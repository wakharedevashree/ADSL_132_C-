#include <bits/stdc++.h>
using namespace std;

int arr[100], n;


void printSubset(vector<int> &subset) {
    cout << "{ ";
    for (int i = 0; i < subset.size(); i++) {
        cout << subset[i] << " ";
    }
    cout << "}" << endl;
}

void backtrack(int start, vector<int> &subset) {

    printSubset(subset);

    for (int i = start; i < n; i++) {
       
        if (i > start && arr[i] == arr[i - 1])
            continue;

      
        subset.push_back(arr[i]);

        backtrack(i + 1, subset);

     
        subset.pop_back();
    }
}

int main() {
    cout << "Enter number of elements: ";
    cin >> n;

    cout << "Enter elements: ";
    for (int i = 0; i < n; i++)
        cin >> arr[i];


    sort(arr, arr + n);

    vector<int> subset;
    cout << "\nAll distinct subsets are:\n";
    backtrack(0, subset);

    return 0;
}
