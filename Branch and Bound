#include <bits/stdc++.h>
using namespace std;

int n, target;
int arr[100];


void printSubset(vector<int> &subset) {
    cout << "{ ";
    for (int i = 0; i < subset.size(); i++) {
        cout << subset[i] << " ";
    }
    cout << "}" << endl;
}


void branchAndBound(int index, int currentSum, vector<int> &subset) {

    if (currentSum > target)
        return;


    printSubset(subset);


    for (int i = index; i < n; i++) {
        subset.push_back(arr[i]);
        branchAndBound(i + 1, currentSum + arr[i], subset);
        subset.pop_back();
    }
}

int main() {
    cout << "Enter number of elements: ";
    cin >> n;

    cout << "Enter elements: ";
    for (int i = 0; i < n; i++)
        cin >> arr[i];

    cout << "Enter target sum: ";
    cin >> target;

    vector<int> subset;
    cout << "\nSubsets with sum <= " << target << " are:\n";
    branchAndBound(0, 0, subset);

    return 0;
}
